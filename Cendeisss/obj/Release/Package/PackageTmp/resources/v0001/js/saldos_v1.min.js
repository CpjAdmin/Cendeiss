function agregarFilasDT(n){for(var r,i=[],t=0;t<n.length;t++)i.push([n[t].cedula,n[t].nombre,n[t].saldo_ant_ap,n[t].aportes,n[t].debitos_ap,n[t].saldo_act_ap,n[t].saldo_ant_rend,n[t].rendimientos,n[t].debitos_rend,n[t].saldo_act_rend,n[t].total]);objTabla.DataTable({data:i,pageLength:100,lengthMenu:[[100,500,2e3,-1],["100 Registros","500 Registros","2000 Registros","Todos"]],dom:"Bfrtip",buttons:[{extend:"pageLength"},{extend:"copy",text:"Copiar"},{extend:"csvHtml5",title:function(){return nombreReporte+$("#textoCierre").text()}},{extend:"excelHtml5",title:function(){return nombreReporte+$("#textoCierre").text()},sheetName:"Saldos CENDEISSS"}],language:{url:"resources/components/datatables-buttons/json/spanish.json",buttons:{copyTitle:"Añadido al portapapeles",copyKeys:"Presione <i> ctrl <\/ i> o <i>  u2318 <\/ i> + <i> C <\/ i> para copiar los datos de la tabla al portapapeles. <br> <br> Para cancelar, haga clic en este mensaje o presione Esc.",copySuccess:{_:"%d lineas copiadas",1:"1 línea copiada"},pageLength:{_:"Mostrar %d Filas","-1":"Ver todo"}}},fnDrawCallback:function(){var n=objTabla.DataTable();n.data().length===0?n.buttons(".dt-button").disable():n.buttons(".dt-button").enable()},bDestroy:!0,bDeferRender:!0,paging:!0,scrollY:$(document).height()-410+"px",scrollCollapse:!0,scroller:!0,autoWidth:!1,responsive:{details:{display:$.fn.dataTable.Responsive.display.modal({header:function(n){var t=n.data();return"<h3>CÉDULA: <b>"+t[0]+'<b><\/br> <b class="text-danger" >'+t[1]+"<\/b><\/h3>"}}),renderer:$.fn.dataTable.Responsive.renderer.tableAll()}},aoColumns:[{sClass:"textoCentrado"},null,{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"},{bSortable:!1,render:$.fn.dataTable.render.number(",",".",2,""),sClass:"text-right"}]});r=$("#txtUsuario").val()===""?"":"";$("#textoCierre").text("Saldos al "+n[0].periodo+r)}function AjaxCargarSaldos(n){n=JSON.stringify(n);$.ajax({type:"POST",url:"ConsultaSaldos.aspx/CargarSaldos",data:n,contentType:"application/json; charset=utf-8",error:function(n,t,i){MensajeAlerta="Error: "+n.status+"<br>"+n.responseJSON.Message;"\n"+i;mensajeError(MensajeAlerta,paginaURL);setTimeout(function(){window.location="./Login.aspx"},5e3);animacion!==undefined&&setTimeout(function(){dialogoProgreso.hide();dialogoProgreso.stopAnimate(animacion)},500)},success:function(n){n.d.length>0?agregarFilasDT(n.d):(MsjPersonalizado="No existen registros para el Periodo consultado!",tipoMsj="info",Alerta("mensajesAlerta",MsjPersonalizado,tipoMsj,2e3))}}).done(function(){animacion!==undefined&&setTimeout(function(){dialogoProgreso.hide();dialogoProgreso.stopAnimate(animacion)},500)})}var tabla,data,objTabla=$("#tbl_saldos"),paginaURL="ConsultaSaldos.aspx",inicio,MensajeAlerta,tipoMsj,tituloReporte="COOPECAJA RL - Consulta de Saldos",nombreReporte="COOPECAJA RL -  ",animacion;$(document).ready(function(){$("#datepicker").datepicker({format:"mm-yyyy",showButtonPanel:!0,viewMode:"months",minViewMode:"months",orientation:"bottom",autoclose:!0})});$("#txtUsuario").on("input",function(){this.value=this.value.replace(/[^0-9]/g,"")});$(document).on("click","#btnEjecutarConsulta",function(n){var i;if(n.preventDefault(),$("#datepicker").val()!==""){$("#txtUsuario").length?(i=$("#txtUsuario").val(),i===""&&(dialogoProgreso.show('Cargando <span class="glyphicon glyphicon-hourglass"><\/span>'),animacion=dialogoProgreso.animate())):i=login;var r=$("#datepicker").datepicker("getDate"),u=r.getMonth()+1,f=r.getFullYear(),t={};t.usuario=i;t.mes=u;t.ano=f;t.id=login;AjaxCargarSaldos(t)}else $("#datepicker").focus()});$(document).on("click","#btnLimpiar",function(n){if(n.preventDefault(),$(".dt-button").length){var t=objTabla.DataTable().rows().count();t>0?(objTabla.dataTable().fnClearTable(),$("#textoCierre").text("")):(MsjPersonalizado="La tabla de datos está vacia!",tipoMsj="warning",Alerta("mensajesAlerta",MsjPersonalizado,tipoMsj,2e3))}else MsjPersonalizado="La tabla de datos está vacia!",tipoMsj="warning",Alerta("mensajesAlerta",MsjPersonalizado,tipoMsj,2e3)});